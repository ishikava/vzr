"use strict";function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var n=0;n<e.length;n++){var s=e[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}function _createClass(t,e,n){return e&&_defineProperties(t.prototype,e),n&&_defineProperties(t,n),t}var Accordion=function(){function e(t){var n=this;_classCallCheck(this,e),this.$element=$(t),this.itemClass=".js-accordion-item",this.buttonClass=".js-accordion-button",this.buttonTextClass=".js-accordion-button-text",this.buttonTouchTextClass="accordion__button-text_touch",this.contentClass=".js-accordion-content",this.$items=this.$element.find(this.itemClass),this.$activeItem=this.$element.find(this.itemClass+".is-open"),window.MOBILE_REGEX=/mobile|tablet|ip(ad|hone|od)|android/i,window.SUPPORT_TOUCH="ontouchstart"in window,window.SUPPORT_ONLY_TOUCH=SUPPORT_TOUCH&&MOBILE_REGEX.test(navigator.userAgent),window.SUPPORT_ONLY_TOUCH&&this.$items.find(this.buttonTextClass).addClass(this.buttonTouchTextClass),this.$activeItem.length&&this.$activeItem.each(function(t,e){$(e).find(n.contentClass).slideDown(300)}),this.setListeners(),this.$element.find("".concat(this.buttonClass,".is-open")).click()}return _createClass(e,[{key:"setListeners",value:function(){var c=this;this.$element.on("click",this.buttonClass,function(t){t.preventDefault();var e=$(t.currentTarget).parents(c.itemClass),n=e.find(c.contentClass),s=e.find(c.buttonTextClass),i=c.$element.find(".js-accordion-button-showMore"),o=c.$element.find(".js-accordion-button-readFull"),a=c.$element.find(".js-accordion-button-moreReviews"),t=c.$element.find(".is-open "+c.contentClass);if(e.hasClass("is-open"))return e.removeClass("is-open"),s.text("Показать"),i.text("Показать еще"),o.text("Читать полностью"),a.text("Еще отзывы"),void n.slideUp(300);c.$element.hasClass("js-accordion-not-close-all")||(c.$items.removeClass("is-open"),t.slideUp(300)),e.addClass("is-open"),s.text("Скрыть"),i.text("Свернуть"),o.text("Свернуть"),a.text("Свернуть"),n.slideDown(300)})}}]),e}();$(function(){$(".js-accordion").each(function(t,e){return new Accordion(e)})});